{"ast":null,"code":"export default function define(runtime, observer) {\n  const main = runtime.module();\n  const fileAttachments = new Map([[\"aapl.csv\", new URL(\"./files/de259092d525c13bd10926eaf7add45b15f2771a8b39bc541a5bba1e0206add4880eb1d876be8df469328a85243b7d813a91feb8cc4966de582dc02e5f8609b7\", import.meta.url)]]);\n  main.builtin(\"FileAttachment\", runtime.fileAttachments(name => fileAttachments.get(name)));\n  main.variable(observer()).define([\"md\"], function (md) {\n    return md`# Line Chart\n\nThis static time series line chart shows the daily close of Apple stock. Compare to a [log *y*-scale showing change](/@d3/change-line-chart), an [area chart](/@d3/area-chart), a [horizon chart](/@d3/horizon-chart-ii), a [candlestick chart](/@d3/candlestick-chart), and an [index chart](/@d3/index-chart). To inspect values, consider a [tooltip](/@d3/line-chart-with-tooltip).\n\nData: [Yahoo Finance](https://finance.yahoo.com/lookup)`;\n  });\n  main.variable(observer(\"chart\")).define(\"chart\", [\"d3\", \"width\", \"height\", \"xAxis\", \"yAxis\", \"data\", \"line\"], function (d3, width, height, xAxis, yAxis, data, line) {\n    const svg = d3.create(\"svg\").attr(\"viewBox\", [0, 0, width, height]);\n    svg.append(\"g\").call(xAxis);\n    svg.append(\"g\").call(yAxis);\n    svg.append(\"path\").datum(data).attr(\"fill\", \"none\").attr(\"stroke\", \"steelblue\").attr(\"stroke-width\", 1.5).attr(\"stroke-linejoin\", \"round\").attr(\"stroke-linecap\", \"round\").attr(\"d\", line);\n    return svg.node();\n  });\n  main.variable(observer(\"data\")).define(\"data\", [\"d3\", \"FileAttachment\"], async function (d3, FileAttachment) {\n    return Object.assign(d3.csvParse(await FileAttachment(\"aapl.csv\").text(), d3.autoType).map(({\n      date,\n      close\n    }) => ({\n      date,\n      value: close\n    })), {\n      y: \"$ Close\"\n    });\n  });\n  main.variable(observer(\"line\")).define(\"line\", [\"d3\", \"x\", \"y\"], function (d3, x, y) {\n    return d3.line().defined(d => !isNaN(d.value)).x(d => x(d.date)).y(d => y(d.value));\n  });\n  main.variable(observer(\"x\")).define(\"x\", [\"d3\", \"data\", \"margin\", \"width\"], function (d3, data, margin, width) {\n    return d3.scaleUtc().domain(d3.extent(data, d => d.date)).range([margin.left, width - margin.right]);\n  });\n  main.variable(observer(\"y\")).define(\"y\", [\"d3\", \"data\", \"height\", \"margin\"], function (d3, data, height, margin) {\n    return d3.scaleLinear().domain([0, d3.max(data, d => d.value)]).nice().range([height - margin.bottom, margin.top]);\n  });\n  main.variable(observer(\"xAxis\")).define(\"xAxis\", [\"height\", \"margin\", \"d3\", \"x\", \"width\"], function (height, margin, d3, x, width) {\n    return g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).ticks(width / 80).tickSizeOuter(0));\n  });\n  main.variable(observer(\"yAxis\")).define(\"yAxis\", [\"margin\", \"d3\", \"y\", \"data\"], function (margin, d3, y, data) {\n    return g => g.attr(\"transform\", `translate(${margin.left},0)`).call(d3.axisLeft(y)).call(g => g.select(\".domain\").remove()).call(g => g.select(\".tick:last-of-type text\").clone().attr(\"x\", 3).attr(\"text-anchor\", \"start\").attr(\"font-weight\", \"bold\").text(data.y));\n  });\n  main.variable(observer(\"margin\")).define(\"margin\", function () {\n    return {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n  });\n  main.variable(observer(\"height\")).define(\"height\", function () {\n    return 500;\n  });\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function (require) {\n    return require(\"d3@6\");\n  });\n  return main;\n}","map":{"version":3,"sources":["C:/Users/Jenny/OneDrive/Desktop/Makers/construction-helper-monday/view2/quickstart-react/src/LineChart.js"],"names":["define","runtime","observer","main","module","fileAttachments","Map","URL","import","meta","url","builtin","name","get","variable","md","d3","width","height","xAxis","yAxis","data","line","svg","create","attr","append","call","datum","node","FileAttachment","Object","assign","csvParse","text","autoType","map","date","close","value","y","x","defined","d","isNaN","margin","scaleUtc","domain","extent","range","left","right","scaleLinear","max","nice","bottom","top","g","axisBottom","ticks","tickSizeOuter","axisLeft","select","remove","clone","require"],"mappings":"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","sourcesContent":["\nexport default function define(runtime, observer) {\n    const main = runtime.module();\n    const fileAttachments = new Map([[\"aapl.csv\", new URL(\"./files/de259092d525c13bd10926eaf7add45b15f2771a8b39bc541a5bba1e0206add4880eb1d876be8df469328a85243b7d813a91feb8cc4966de582dc02e5f8609b7\", import.meta.url)]]);\n    main.builtin(\"FileAttachment\", runtime.fileAttachments(name => fileAttachments.get(name)));\n    main.variable(observer()).define([\"md\"], function (md) {\r\n        return (\n            md`# Line Chart\n\nThis static time series line chart shows the daily close of Apple stock. Compare to a [log *y*-scale showing change](/@d3/change-line-chart), an [area chart](/@d3/area-chart), a [horizon chart](/@d3/horizon-chart-ii), a [candlestick chart](/@d3/candlestick-chart), and an [index chart](/@d3/index-chart). To inspect values, consider a [tooltip](/@d3/line-chart-with-tooltip).\n\nData: [Yahoo Finance](https://finance.yahoo.com/lookup)`\n        )\r\n    });\n    main.variable(observer(\"chart\")).define(\"chart\", [\"d3\", \"width\", \"height\", \"xAxis\", \"yAxis\", \"data\", \"line\"], function (d3, width, height, xAxis, yAxis, data, line) {\n        const svg = d3.create(\"svg\")\n            .attr(\"viewBox\", [0, 0, width, height]);\n\n        svg.append(\"g\")\n            .call(xAxis);\n\n        svg.append(\"g\")\n            .call(yAxis);\n\n        svg.append(\"path\")\n            .datum(data)\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"steelblue\")\n            .attr(\"stroke-width\", 1.5)\n            .attr(\"stroke-linejoin\", \"round\")\n            .attr(\"stroke-linecap\", \"round\")\n            .attr(\"d\", line);\n\n        return svg.node();\n    }\n    );\n    main.variable(observer(\"data\")).define(\"data\", [\"d3\", \"FileAttachment\"], async function (d3, FileAttachment) {\r\n        return (\n            Object.assign((d3.csvParse(await FileAttachment(\"aapl.csv\").text(), d3.autoType)).map(({ date, close }) => ({ date, value: close })), { y: \"$ Close\" })\n        )\r\n    });\n    main.variable(observer(\"line\")).define(\"line\", [\"d3\", \"x\", \"y\"], function (d3, x, y) {\r\n        return (\n            d3.line()\n                .defined(d => !isNaN(d.value))\n                .x(d => x(d.date))\n                .y(d => y(d.value))\n        )\r\n    });\n    main.variable(observer(\"x\")).define(\"x\", [\"d3\", \"data\", \"margin\", \"width\"], function (d3, data, margin, width) {\r\n        return (\n            d3.scaleUtc()\n                .domain(d3.extent(data, d => d.date))\n                .range([margin.left, width - margin.right])\n        )\r\n    });\n    main.variable(observer(\"y\")).define(\"y\", [\"d3\", \"data\", \"height\", \"margin\"], function (d3, data, height, margin) {\r\n        return (\n            d3.scaleLinear()\n                .domain([0, d3.max(data, d => d.value)]).nice()\n                .range([height - margin.bottom, margin.top])\n        )\r\n    });\n    main.variable(observer(\"xAxis\")).define(\"xAxis\", [\"height\", \"margin\", \"d3\", \"x\", \"width\"], function (height, margin, d3, x, width) {\r\n        return (\n            g => g\n                .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n                .call(d3.axisBottom(x).ticks(width / 80).tickSizeOuter(0))\n        )\r\n    });\n    main.variable(observer(\"yAxis\")).define(\"yAxis\", [\"margin\", \"d3\", \"y\", \"data\"], function (margin, d3, y, data) {\r\n        return (\n            g => g\n                .attr(\"transform\", `translate(${margin.left},0)`)\n                .call(d3.axisLeft(y))\n                .call(g => g.select(\".domain\").remove())\n                .call(g => g.select(\".tick:last-of-type text\").clone()\n                    .attr(\"x\", 3)\n                    .attr(\"text-anchor\", \"start\")\n                    .attr(\"font-weight\", \"bold\")\n                    .text(data.y))\n        )\r\n    });\n    main.variable(observer(\"margin\")).define(\"margin\", function () {\r\n        return (\n            { top: 20, right: 30, bottom: 30, left: 40 }\n        )\r\n    });\n    main.variable(observer(\"height\")).define(\"height\", function () {\r\n        return (\n            500\n        )\r\n    });\n    main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function (require) {\r\n        return (\n            require(\"d3@6\")\n        )\r\n    });\n    return main;\n}\n\r\n"]},"metadata":{},"sourceType":"module"}