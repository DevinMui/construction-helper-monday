(this.webpackJsonpsentiment=this.webpackJsonpsentiment||[]).push([[0],{26:function(e,t,n){e.exports=n(59)},31:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(20),o=n.n(i),c=(n(31),n(1)),l=n(3),s=n(4),u=n(21),v=n.n(u),d={light:{color:"#323338",background:"#ffffff",red:"#E44258",yellow:"#FFCB00",green:"#00CA72"}};d.dark=Object.assign({},d.light,{background:"#323338",color:"rgba(255, 255, 255, 0.8)",red:"#E45266",green:"#14CA7B",yellow:"#FFD01A"}),d.colorblind=Object.assign({},d.light,{green:"#9AADBD",yellow:"#FFADAD",red:"#784BD1"}),d.colorblindDark=Object.assign({},d.dark,{green:"#9AADBD",yellow:"#FFADAD",red:"#7c57c7"});var f=r.a.createContext(d.light);function m(){var e=Object(l.a)(["\n    margin: calc(24px + (48 - 24) * ((100vh - 300px) / (1600 - 300)));\n    font-size: calc(24px + (48 - 24) * ((100vh - 300px) / (1600 - 300)));\n"]);return m=function(){return e},e}function g(){var e=Object(l.a)(["\n    font-size: calc(16px + (40 - 16) * ((100vh - 300px) / (1600 - 300)));\n    margin: calc(16px + (40 - 16) * ((100vh - 300px) / (1600 - 300)));\n    .text-transition_inner {\n        text-align: center;\n        display: flex;\n        justify-content: space-around;\n    }\n"]);return g=function(){return e},e}function p(){var e=Object(l.a)(["\n    border-radius: 50%;\n    margin: 0 auto;\n    position: relative;\n    svg .donut-segment {\n        cursor: pointer;\n        transition: 0.3s all;\n    }\n    .chart-text {\n        font-size: 16px;\n        fill: #000;\n        transform: translateY(0.25em);\n    }\n\n    .chart-number {\n        font-size: 13px;\n        line-height: 1;\n        text-anchor: middle;\n        transform-origin: center;\n        transform: translate(4px, -5px) rotate(90deg) scaleY(-120%);\n    }\n"]);return p=function(){return e},e}function h(){var e=Object(l.a)(["\n    text-align: center;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    color: ",";\n"]);return h=function(){return e},e}var b=s.a.div(h(),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.theme.background}),(function(e){return e.theme.color})),x=s.a.figure(p()),k=Object(s.a)(v.a)(g()),w=s.a.div(m());function E(e,t){if(!e)return"There doesn't seem to be any sentiment data... yet.";var n=(10*e.positive.calculated/e.total-10*e.negative.calculated/e.total+100)/200;if(t%2)return"Your average rating is ".concat((100*n).toFixed(2),"%.");var a="Overall, your table is ";return(a+=n<.05?"overwhelmingly negative":n<.15?"very negative":n<.25?"quite negative":n<.35?"negative":n<.45?"somewhat negative":n<.55?"neutral":n<.65?"somewhat positive":n<.75?"positive":n<.85?"quite positive":n<.95?"very positive":"overwhelmingly positive")+"."}var y=function(e){var t=e.data,n=r.a.useState(void 0),a=Object(c.a)(n,2),i=a[0],o=a[1],l=r.a.useState(""),s=Object(c.a)(l,2),u=s[0],v=s[1],d=r.a.useState(0),m=Object(c.a)(d,2),g=m[0],p=m[1],h=r.a.useState(0),y=Object(c.a)(h,2),O=y[0],j=y[1],D=r.a.useContext(f);function z(){o(void 0),v(""),p(setInterval((function(){j((function(e){return e+1}))}),5e3))}function F(e){if(o(e),clearTimeout(g),!t)return v(E(t));var n="";switch(e){case"positive":n="Out of ".concat(t.total," entries, ").concat(t.positive.percent.toFixed(2),"% were positive."),t.positive.percent>50&&(n+=" Great job!");break;case"neutral":n="Out of ".concat(t.total," entries, ").concat(t.neutral.percent.toFixed(2),"% were neutral.");break;case"negative":n="Out of ".concat(t.total," entries, ").concat(t.negative.percent.toFixed(2),"% were negative.")}v(n)}return r.a.useEffect(z,[]),r.a.createElement(b,{size:e.size,theme:D},r.a.createElement(w,null,e.title),r.a.createElement(x,{size:e.size},r.a.createElement("svg",{width:.66*e.size+"px",height:.66*e.size+"px",viewBox:"0 0 42 42",className:"donut"},r.a.createElement("circle",{className:"donut-hole",cx:"21",cy:"21",r:"15.91549430918954",fill:D.background}),r.a.createElement("circle",{onMouseEnter:function(){return F("positive")},onMouseLeave:z,pointerEvents:"visibleStroke",className:"donut-segment",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:D.green,strokeWidth:"positive"===i?4:3,strokeDasharray:t&&10*t.positive.calculated/t.total+" "+(100-10*t.positive.calculated/t.total),strokeDashoffset:"25"}),r.a.createElement("circle",{onMouseEnter:function(){return F("neutral")},onMouseLeave:z,pointerEvents:"visibleStroke",className:"donut-segment",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:D.yellow,strokeWidth:"neutral"===i?4:3,strokeDasharray:t&&10*t.neutral.calculated/t.total+" "+(100-10*t.neutral.calculated/t.total),strokeDashoffset:t&&100-10*t.positive.calculated/t.total+25}),r.a.createElement("circle",{onMouseEnter:function(){return F("negative")},onMouseLeave:z,pointerEvents:"visibleStroke",className:"donut-segment",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:D.red,strokeWidth:"negative"===i?4:3,strokeDasharray:t&&10*t.negative.calculated/t.total+" "+(100-10*t.negative.calculated/t.total),strokeDashoffset:t&&100-10*t.positive.calculated/t.total-10*t.neutral.calculated/t.total+25}),r.a.createElement("g",{className:"chart-text"},r.a.createElement("text",{x:"50%",y:"50%",className:"chart-number",dy:t?"0,0,0.75":"0,0,1.25",dx:"0.5,0.5,0.66",fill:D.color},function(e){if(!e)return":-0";var t=(10*e.positive.calculated/e.total-10*e.negative.calculated/e.total+100)/200;return t<.05?">:(":t<.15?":'(":t<.25?":-(":t<.35?":-/":t<.45||t<.55||t<.65?":-|":t<.75?":-)":t<.85?";-)":t<.95?":-D":";-D"}(t))))),r.a.createElement(k,{text:u||E(t,O)}))},O=n(2),j=n.n(O),D=n(12),z=n(25),F=n.n(z)()();var A={maxEntries:25},S="";function M(e){A=e}function B(e,t,n){var a=Math.max(e,n),r=Math.min(t,n+10/6);if(n+10/6<e)return 0;var i=function(e){return-18*e*e+e*(36*n+60)},o=i(r)-i(a);return(o=o<0?0:o)/10}function C(e,t,n){var a=Math.max(e,n-10/6),r=Math.min(t,n);if(n-10/6>t)return 0;var i=function(e){return 18*e*e+60*e-36*n*e},o=i(r)-i(a);return(o=o<0?0:o)/10}function N(e){var t=20*(e=Number.parseFloat(e))/3+10/6;return{sentiment:e,positive:C(0,10/3,t)+B(0,10/3,t),neutral:C(10/3,20/3,t)+B(10/3,20/3,t),negative:C(20/3,10,t)+B(20/3,10,t)}}function W(e){return I.apply(this,arguments)}function I(){return(I=Object(D.a)(j.a.mark((function e(t){var n,a,r,i,o,c,l,s,u,v,d,f,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="query{boards(ids:".concat(S,"){items(limit:").concat(A.maxEntries,"){column_values{id,value}}}}"),e.next=3,F.api(n);case 3:if(a=e.sent,r=a.data.boards[0].items,!((i=r.map((function(e){return e.column_values}))).length<=1)){e.next=8;break}return e.abrupt("return",t(void 0));case 8:i=i.slice(1),o=-1,c=0;case 11:if(!(c<i[0].length)){e.next=19;break}if(!i){e.next=16;break}if(i[0][c].id!==A.column){e.next=16;break}return o=c,e.abrupt("break",19);case 16:c++,e.next=11;break;case 19:if(-1!==o){e.next=21;break}return e.abrupt("return",t(void 0));case 21:for(l=[],s=0;s<i.length;s++)i[s][o]&&l.push(i[s][o].value.replace(/[^\d.-]/g,""));for(u={total:l.length,positive:{total:0,calculated:0},neutral:{total:0,calculated:0},negative:{total:0,calculated:0}},v=0,d=l;v<d.length;v++)f=d[v],m=N(f),u.negative.calculated+=m.negative,u.neutral.calculated+=m.neutral,u.positive.calculated+=m.positive,f>2/3?u.negative.total=u.negative.total+1:f>1/3?u.neutral.total=u.neutral.total+1:u.positive.total=u.positive.total+1;u.positive.percent=u.positive.total/u.total*100,u.neutral.percent=u.neutral.total/u.total*100,u.negative.percent=u.negative.total/u.total*100,t(u);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){var e=Object(l.a)(["\n    display: flex;\n    height: inherit;\n    justify-content: center;\n    align-items: center;\n"]);return L=function(){return e},e}var q=s.a.div(L()),H=function(){var e=r.a.useState(window.innerHeight),t=Object(c.a)(e,2),n=t[0],a=t[1],i=r.a.useState("Title"),o=Object(c.a)(i,2),l=o[0],s=o[1],u=r.a.useState(d.light),v=Object(c.a)(u,2),m=v[0],g=v[1],p=r.a.useState(),h=Object(c.a)(p,2),b=h[0],x=h[1];return r.a.useEffect((function(){var e,t;e=function(e){var t;Object.keys(e.sentimentColumn).length&&(e.maxEntries&&e.maxEntries>5e3&&(t="Please enter a lower number of entries to show.",F.execute("error",t),M({column:Object.values(e.sentimentColumn)[0][0],maxEntries:A.maxEntries})),M({column:Object.values(e.sentimentColumn)[0][0],maxEntries:e.maxEntries})),"light"===e.theme?e.colorblind?g(d.colorblind):g(d.light):e.colorblind?g(d.colorblindDark):g(d.dark)},t=x,F.listen("settings",(function(n){e(n.data),t&&W(t)})),function(e){F.listen("events",(function(t){t.data.boardId===S&&(W(e),console.log(t))}))}(x),function(e,t){F.listen("context",function(){var n=Object(D.a)(j.a.mark((function n(a){var r,i,o,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(r=a.data).boardIds.length){n.next=5;break}return e(null),t(void 0),n.abrupt("return");case 5:return S=r.boardIds[0],i="query { boards(ids: ".concat(S,") {name}}"),n.next=9,F.api(i);case 9:o=n.sent,c=o.data.boards[0].name,e(c),W(t);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(s,x)}),[]),r.a.useEffect((function(){var e=function(){window.innerHeight>window.innerWidth?a(window.innerWidth):a(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),r.a.createElement(f.Provider,{value:m},r.a.createElement(q,{style:{background:m.background}},r.a.createElement(y,{data:b,size:n,title:l})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.c09124ed.chunk.js.map